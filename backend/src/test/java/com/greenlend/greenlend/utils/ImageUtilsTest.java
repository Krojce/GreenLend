package com.greenlend.greenlend.utils;

import org.junit.Test;

import javax.imageio.ImageIO;
import javax.persistence.Lob;
import javax.xml.bind.DatatypeConverter;
import java.awt.image.BufferedImage;
import java.io.ByteArrayInputStream;
import java.io.IOException;
import java.io.InputStream;

import static org.junit.jupiter.api.Assertions.*;

public class ImageUtilsTest {

    @Test
    public void createThumbnail_smallImage_imageIsResized() {

        String hiresBase64 = "data:image/jpeg;base64,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";
        String thumbnailBase64 = ImageUtils.createThumbnail(hiresBase64);

        assertTrue(thumbnailBase64.contains("data:image/jpeg;base64,"));

        byte[] dta = DatatypeConverter.parseBase64Binary(thumbnailBase64.substring(thumbnailBase64.indexOf(',')+1));

        try (InputStream in = new ByteArrayInputStream(dta)) {

            BufferedImage image = ImageIO.read(in);
            assertEquals(ImageUtils.THUMBNAIL_HEIGHT, image.getHeight());

        } catch(IOException e) {
            fail("Something bad happend");
        }

    }

}